/*!
 * jsTimers-rAF hack by Luciano Giuseppe
 * Replace javascript timer methods with others that use requestAnimationFrame 
 * v. 0.5.5
 */
(function(a){a.trAfHack={isIE10:(navigator.appVersion.indexOf("MSIE 10")!=-1),applyHacks:function(){if(this.rAFSupported()==false){return}a.setTimeout=this.setTimeout;a.clearTimeout=this.clearTimeout;a.setInterval=this.setInterval;a.clearInterval=this.clearInterval},rAFSupported:function(){var c=["ms","moz","webkit","o"];for(var b=0;b<c.length&&(a.requestAnimationFrame===undefined||a.cancelAnimationFrame===undefined);++b){if(a.requestAnimationFrame===undefined){a.requestAnimationFrame=a[c[b]+"RequestAnimationFrame"]}if(a.cancelAnimationFrame===undefined){a.cancelAnimationFrame=a[c[b]+"CancelAnimationFrame"]||a[c[b]+"CancelRequestAnimationFrame"]}}if(a.requestAnimationFrame===undefined||a.cancelAnimationFrame===undefined){return false}if(Function.prototype.bind===undefined){Function.prototype.bind=function(d){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var h=Array.prototype.slice.call(arguments,1),g=this,e=function(){},f=function(){return g.apply(this instanceof e?this:d||a,h.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e();return f}}this.set_getTime();return true},set_getTime:function(){if(trAfHack.isIE10){trAfHack.getTime=function(){return performance.now()}}else{if(a.performance&&a.performance.now){trAfHack.getTime=function(){return(performance.now()+performance.timing.navigationStart)}}else{trAfHack.getTime=function(){return Date.now()}}}},setTimeout:function(){if(arguments.length<2){return null}return new trAfHack.rafTimeOut(arguments[0],arguments[1],Array.prototype.slice.call(arguments,2))},clearTimeout:function(b){if(b==null){return}if(b instanceof trAfHack.rafInterval){return this.clearInterval(b)}if((b instanceof trAfHack.rafTimeOut)==false||b.rAFID==null){return}cancelAnimationFrame(b.rAFID);b.rAFID=null},rafTimeOut:function(d,b,c){this.callback=d;this.delay=b;this.params=c;this.loop=function(e){if((trAfHack.getTime()-this.rAFStartTime)<this.delay){this.rAFID=requestAnimationFrame(this.loop.bind(this));return}this.callback.apply(this.callback,this.params)};this.rAFStartTime=trAfHack.getTime();this.rAFID=requestAnimationFrame(this.loop.bind(this));return this},setInterval:function(){if(arguments.length<2){return null}return new trAfHack.rafInterval(arguments[0],arguments[1],Array.prototype.slice.call(arguments,2))},clearInterval:function(b){if(b==null){return}if(b instanceof trAfHack.rafTimeOut){return clearTimeout(b)}if((b instanceof trAfHack.rafInterval)==false||b.rAFID==null){return}cancelAnimationFrame(b.rAFID);b.rAFID=null},rafInterval:function(d,b,c){this.callback=d;this.delay=b;this.params=c;this.loop=function(e){if((trAfHack.getTime()-this.rAFStartTime)<this.delay){this.rAFID=requestAnimationFrame(this.loop.bind(this));return}this.callback.apply(this.callback,this.params);this.rAFStartTime=trAfHack.getTime();this.rAFID=requestAnimationFrame(this.loop.bind(this))};this.rAFStartTime=trAfHack.getTime();this.rAFID=requestAnimationFrame(this.loop.bind(this));return this}}})(window);