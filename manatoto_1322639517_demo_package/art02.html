<!DOCTYPE html> 
<html>
<head>
	<meta http-equiv="Content-Type" content="text/xhtml+xml; charset=utf-8" />
	<script type='text/javascript' src='art-1.001.js'></script>
	<style type='text/css'>
		body, td {font-family:tahoma,arial}
		td {text-align:center;vertical-align:center}
	</style>
</head>
<body style='background-color:black'>
	<div style='position:absolute;left:50%;top:50%;width:600px;height:600px;margin:-300px'>
		<table style='width:100%;height:100%'>
			<tr>
				<td><canvas id="cnv1" width='250' height='250' style='border:1px solid #111'></canvas></td>
				<td></td>
				<td><canvas id="cnv2" width='250' height='250' style='border:1px solid #111'></canvas></td>
			</tr>
			<tr>
				<td></td><td style='font-size:11px;color:#444'>MA NA<br />TO TO</td><td></td>
			</tr>
			<tr>
				<td><canvas id="cnv3" width='250' height='250' style='border:1px solid #111'></canvas></td>
				<td></td>
				<td><canvas id="cnv4" width='250' height='250' style='border:1px solid #111'></canvas></td>
			</tr>
		</table>
	</div>
	<div style='position:absolute;left:5%;top:50%;'>
		<a href='index.html' style='color:#444;font-size:24px;padding:10px;text-decoration:none'>&lt;</a>
	</div>


	<script type='text/javascript'>
	
		start('cnv1');
		start('cnv2');
		start('cnv3');
		start('cnv4');
		
		function start(canvas) {
			var art1=new Art(canvas);
			art1.palette_add("c1", 200,50,40, 220,80,50);
			art1.palette_add("fond", 0,0,0,10,10,20);
			art1.palette_add("principale",200, 200, 200, 255, 255, 255);		
			var t;
			t=[0,0,0,0,0,0,0,0,0,0,0,191,247,101,0,0,0,191,247,101,63,255,255,191,0,0,63,255,255,191,0,191,247,101,0,0,0,191,247,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,255,149,0,0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0,149,255,149,0,0,0,0,0,0,0,0,0,0,0,0,0];
			art1.create_brush("brosse1", {width:10,height:10,data:t});
			t=[0,0,0,0,0,0,0,0,0,2,5,9,13,16,17,18,17,16,14,12,9,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,10,15,22,28,31,33,34,34,31,31,28,24,20,16,9,4,0,0,0,0,0,0,0,0,0,0,0,0,7,17,26,34,41,44,48,49,50,50,45,44,40,37,31,27,22,13,6,1,0,0,0,0,0,0,0,0,0,10,24,35,47,54,61,67,73,75,71,67,63,59,54,51,48,39,33,26,19,8,0,0,0,0,0,0,0,0,8,25,43,58,69,78,85,86,90,90,86,89,87,81,77,68,62,59,51,44,34,22,11,2,0,0,0,0,0,6,22,41,66,79,87,95,97,99,107,110,112,114,110,104,92,87,79,74,70,58,49,36,23,11,3,0,0,0,3,14,38,61,82,95,102,108,113,119,129,132,138,136,133,124,118,108,98,88,81,72,62,49,33,19,7,3,0,0,8,27,56,79,103,117,117,129,135,143,150,157,158,153,146,145,129,122,112,95,87,82,74,57,46,28,14,6,0,1,13,40,71,99,118,128,140,151,157,169,173,176,172,170,162,153,139,130,124,109,93,85,77,66,51,34,19,8,1,7,21,53,81,103,128,145,160,172,179,188,192,188,189,183,171,161,151,144,129,115,97,81,75,68,55,38,22,11,2,8,27,58,83,106,138,157,177,187,194,204,209,213,211,204,186,168,163,156,141,119,104,86,75,69,57,45,28,11,3,9,29,56,83,108,143,167,186,199,208,220,235,242,243,236,221,198,173,163,152,133,108,85,76,66,63,49,33,13,5,14,33,53,82,112,148,176,194,205,225,244,251,252,252,251,244,223,201,178,167,146,116,93,81,71,65,56,38,15,6,15,36,53,85,116,150,184,198,219,244,252,253,253,253,253,251,241,213,189,173,153,123,98,88,75,67,59,42,21,6,16,39,59,85,125,156,189,206,232,250,253,253,254,253,253,253,246,223,198,175,157,128,102,87,81,73,60,41,25,6,15,36,60,94,132,165,194,211,238,252,253,254,254,253,253,253,247,227,198,177,159,126,105,87,82,72,58,38,24,5,14,32,60,101,136,169,196,213,238,252,253,254,254,254,253,252,248,224,195,176,155,124,104,88,79,66,51,36,23,5,13,31,61,98,133,166,194,209,233,250,253,253,254,253,253,251,241,214,190,176,156,127,105,89,78,58,45,30,18,5,12,29,55,92,125,158,185,202,219,243,252,253,253,253,252,246,228,202,186,177,156,133,105,84,71,52,40,23,12,5,12,29,52,81,111,145,167,191,201,222,241,247,250,248,243,229,203,187,178,172,156,138,114,84,61,39,29,17,7,2,8,27,49,73,105,133,156,174,184,193,209,221,227,223,215,193,179,172,170,161,152,136,114,82,57,27,20,9,5,1,8,23,44,65,94,122,143,162,170,171,174,179,183,185,179,170,156,150,153,152,145,130,105,77,47,24,16,5,4,0,8,17,38,59,86,111,129,146,153,152,149,148,147,153,155,147,142,136,130,127,126,117,91,70,41,22,12,5,3,0,6,11,29,50,77,105,125,137,138,135,123,122,127,139,145,145,135,125,108,104,103,95,77,54,34,20,6,4,2,0,2,8,19,37,61,89,114,123,125,118,107,95,112,127,141,135,123,109,90,80,78,69,57,43,26,14,7,3,0,0,0,7,11,22,48,72,92,107,109,102,91,88,99,116,126,128,116,102,80,67,53,49,42,30,14,9,5,1,0,0,0,2,7,11,32,52,70,84,91,85,79,79,89,102,115,120,109,93,70,51,38,36,27,15,12,6,2,0,0,0,0,0,4,7,17,34,49,59,65,64,67,66,76,85,96,98,92,77,62,43,30,22,12,10,7,0,0,0,0,0,0,0,0,4,8,18,26,33,40,42,44,50,49,62,71,74,68,57,46,31,20,11,8,5,0,0,0,0,0,0,0,0,0,0,2,6,9,17,18,24,26,29,33,37,42,48,43,36,26,16,10,6,3,1,0,0,0,0,0];
			art1.create_brush("brosse2", {width:30,height:30,data:t});
			t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,75,128,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,75,128,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,173,172,108,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,30,32,144,205,222,216,187,128,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,154,140,69,96,190,215,217,219,212,190,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,120,128,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,87,163,212,217,184,92,0,0,58,141,200,216,222,211,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,128,128,92,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,158,216,228,220,175,30,0,0,0,0,50,147,217,225,215,108,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,69,92,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,148,204,206,155,25,0,0,0,0,0,0,0,112,206,205,154,30,0,0,0,129,154,96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,44,23,0,0,0,0,0,0,0,32,32,0,108,154,120,12,0,0,58,205,222,202,51,0,0,0,0,56,100,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,176,199,188,118,35,12,0,0,0,141,221,241,219,143,0,0,73,173,210,194,134,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,124,190,225,226,220,170,36,0,0,50,200,219,234,196,153,62,170,203,219,219,208,136,12,0,0,0,0,12,66,92,66,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,128,173,217,222,217,179,36,0,136,217,216,165,128,153,210,219,216,208,183,106,12,0,6,61,119,158,199,209,209,169,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,61,6,62,186,217,216,170,12,191,219,203,18,99,211,225,221,179,73,0,0,0,0,83,185,228,223,219,219,215,169,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,130,202,165,83,0,30,186,214,210,169,214,221,140,28,193,218,219,134,6,0,0,0,0,0,83,193,222,218,185,146,112,66,6,0,0,0,0,0,0,0,0,0,0,25,112,112,25,0,94,185,219,224,198,83,0,0,62,194,220,235,233,216,68,98,199,215,141,0,0,0,0,0,0,0,6,100,127,75,0,0,0,0,23,23,0,0,0,0,0,0,0,0,0,64,128,128,73,125,205,217,219,209,130,6,0,25,64,122,214,245,244,215,0,83,148,158,28,0,0,0,0,0,0,0,0,0,0,0,0,0,25,135,184,140,41,0,0,0,0,0,0,0,0,25,112,133,175,210,218,214,159,41,0,0,6,159,169,115,196,242,249,227,151,35,61,41,0,0,0,0,0,0,12,30,0,0,0,0,0,0,64,158,192,160,61,0,0,0,0,0,0,0,0,0,0,129,195,218,191,108,0,0,0,25,164,223,205,146,124,232,246,236,178,92,0,0,0,0,0,0,0,12,133,184,151,25,0,0,0,0,25,115,159,100,6,0,0,0,0,0,0,0,0,0,0,112,162,168,56,0,0,0,30,175,216,223,196,62,35,213,247,247,210,82,0,0,0,0,28,99,83,35,180,205,174,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,64,25,0,0,0,25,175,215,220,196,69,0,0,228,251,251,209,103,32,0,0,122,206,204,148,101,171,210,155,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,209,219,179,36,0,0,0,227,252,253,206,200,197,153,58,158,202,216,158,86,128,128,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,137,184,196,55,0,0,0,0,190,248,247,228,226,236,198,92,100,167,130,28,0,53,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,125,177,148,41,0,0,0,73,225,221,221,223,232,166,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,207,193,78,0,0,0,0,62,126,190,213,170,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,191,219,197,50,64,25,0,0,0,41,201,216,160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,130,216,217,124,126,195,209,153,69,0,12,202,221,179,0,0,51,130,114,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,126,77,0,0,0,0,0,0,6,196,219,206,28,204,244,245,205,144,30,0,186,220,195,0,0,103,188,199,101,0,0,0,0,0,0,0,25,64,25,0,0,0,0,0,0,0,0,0,30,154,205,204,93,0,0,0,0,0,61,178,207,153,0,231,250,249,192,120,12,0,174,221,198,86,25,75,208,224,201,60,0,25,112,112,25,0,112,162,164,30,0,0,0,0,0,0,0,0,12,148,223,209,151,0,0,0,0,0,41,128,144,41,23,235,248,237,30,12,0,0,187,237,244,180,112,0,136,217,224,198,36,64,128,128,64,0,129,192,184,92,0,0,0,0,0,0,0,0,0,12,144,154,96,0,0,0,0,0,0,23,23,0,23,216,243,230,50,0,0,0,226,250,247,205,130,0,30,178,221,216,154,36,112,112,25,0,36,154,140,69,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,140,223,219,160,0,12,89,229,249,245,172,25,0,0,25,175,184,140,30,0,0,0,0,0,12,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,92,30,0,0,0,18,189,222,209,172,189,208,241,246,215,92,0,0,0,0,30,92,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,134,212,209,154,0,0,0,0,78,197,196,200,199,219,219,217,169,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,152,215,234,227,162,32,0,0,0,0,75,103,128,160,160,134,92,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,178,216,222,219,180,96,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,190,222,220,193,76,0,0,0,0,96,143,103,0,0,0,0,0,0,0,0,0,0,0,0,30,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,184,209,182,50,0,0,0,0,0,160,202,203,18,0,0,0,0,0,0,0,0,0,32,69,128,120,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,137,139,100,83,6,0,0,0,0,136,216,204,104,0,0,0,0,0,0,0,0,96,165,215,199,153,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,196,153,61,0,0,0,0,50,174,162,83,0,0,0,0,0,0,0,0,124,192,226,215,160,0,0,0,0,0,0,0,0,0,96,124,51,0,0,0,0,0,0,0,0,0,0,0,0,68,202,224,189,41,0,0,0,0,0,41,61,6,0,0,0,0,0,0,0,0,51,143,191,165,96,0,0,0,0,0,0,0,0,32,128,128,96,0,0,0,0,0,0,0,0,0,0,0,0,61,176,196,114,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,96,124,51,0,0,0,0,0,0,0,0,0,0,0,0,6,83,83,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,124,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,128,128,96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,124,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
			art1.create_brush("brosse3", {width:50,height:50,data:t});
			t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,28,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,42,32,0,0,0,0,0,0,0,31,42,42,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,44,46,45,0,0,0,0,0,0,0,25,46,42,4,0,0,0,0,0,0,0,0,0,0,4,19,17,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,37,20,0,0,0,0,0,0,0,0,11,4,0,0,0,0,0,0,0,0,0,0,0,14,25,23,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,55,71,55,10,0,0,0,0,2,23,24,4,0,0,0,0,0,0,5,24,22,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,22,0,0,0,0,10,65,95,98,79,29,0,0,0,0,34,65,79,77,67,60,49,31,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,43,57,30,0,22,67,86,59,0,0,0,11,65,94,101,73,12,0,0,0,0,36,74,89,88,85,84,79,66,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,75,78,59,0,24,82,91,75,15,0,0,0,21,36,18,0,0,0,0,0,0,2,38,64,76,79,81,81,63,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,3,0,0,0,33,68,83,40,0,0,45,76,49,0,0,0,0,0,0,0,0,13,59,68,12,0,0,0,0,0,0,12,25,24,8,0,0,0,0,0,0,0,0,0,0,0,0,0,20,50,56,14,0,0,2,26,20,39,40,3,0,0,0,0,0,0,42,73,43,0,0,36,98,105,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,63,68,41,0,0,0,0,56,95,84,32,0,0,18,0,0,0,76,77,77,0,0,14,106,106,77,0,0,0,0,0,0,0,2,25,16,0,0,0,0,0,0,0,0,0,0,0,0,0,12,58,60,27,0,0,0,0,73,99,102,22,0,55,83,82,33,19,46,80,47,0,0,0,31,58,30,0,0,0,0,0,0,0,37,72,84,60,18,0,0,0,0,0,0,0,0,0,0,0,0,4,11,0,0,0,0,0,38,74,50,0,0,75,113,134,135,129,129,125,108,49,0,0,0,0,0,15,60,64,28,0,0,0,39,87,96,81,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,53,30,0,0,32,106,133,146,150,151,153,132,87,0,0,0,0,32,114,131,109,71,0,0,0,2,55,84,70,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,85,111,92,32,0,0,16,69,96,116,129,136,117,53,0,0,0,0,64,120,137,119,57,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,43,59,25,0,29,88,114,95,33,0,0,0,36,69,37,0,0,0,0,38,69,38,0,38,134,133,59,0,0,0,0,0,0,0,0,0,10,42,39,8,0,0,0,0,0,0,0,0,0,33,89,86,49,0,0,31,58,33,0,0,0,41,135,125,114,78,57,0,40,119,160,138,42,75,133,129,72,0,0,0,0,0,0,0,0,0,26,50,46,21,0,0,0,0,0,0,0,0,0,43,83,95,40,0,0,0,0,0,0,22,38,123,175,174,157,148,151,55,42,140,182,176,110,60,126,132,46,0,14,26,41,52,28,0,0,0,10,44,41,8,0,0,0,1,27,29,2,20,53,59,60,49,0,0,0,0,53,116,137,117,94,132,174,167,134,162,147,76,0,70,173,162,115,4,44,29,0,27,95,126,126,114,83,27,0,0,0,0,0,0,0,0,0,40,63,54,23,39,56,60,15,0,0,0,0,7,123,156,167,140,93,56,121,112,107,152,155,77,5,0,75,115,104,73,18,0,0,41,103,128,131,119,84,56,45,14,0,0,0,0,0,0,9,46,65,64,16,21,55,45,0,0,0,0,0,19,122,161,166,123,39,0,9,107,155,179,179,150,87,0,0,69,150,152,96,0,0,4,58,89,74,58,43,68,64,43,0,0,0,0,0,0,0,30,46,25,0,0,0,0,0,3,34,24,0,0,72,122,104,39,0,9,110,173,198,208,221,206,154,0,0,71,153,155,97,0,23,0,0,0,0,0,6,64,65,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,73,76,14,0,0,37,38,39,97,93,155,202,224,229,232,225,164,0,0,5,67,77,19,92,116,70,0,0,0,0,0,6,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,73,84,78,84,24,0,0,80,144,135,149,208,225,234,238,225,141,47,109,87,5,0,18,150,154,125,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,5,0,0,0,3,35,57,101,126,105,8,0,140,183,178,62,147,209,216,205,187,66,128,180,193,136,20,18,152,160,127,0,0,0,0,0,16,47,33,0,0,0,0,0,0,0,0,0,23,32,29,5,0,0,0,0,15,103,120,95,21,56,169,189,178,50,116,145,115,186,217,183,133,192,198,151,52,0,103,117,82,0,0,0,0,0,49,66,62,13,0,0,0,0,0,0,0,0,44,39,27,15,43,57,27,0,41,69,72,46,0,123,183,196,170,92,185,203,166,202,230,232,190,161,175,149,20,0,19,47,17,0,0,0,0,0,37,66,58,5,0,0,0,0,0,0,0,4,60,27,5,11,47,94,66,16,76,79,59,0,0,126,174,189,143,101,193,205,178,161,222,221,190,136,109,93,0,39,96,93,35,0,0,0,0,0,0,15,5,0,0,0,0,0,0,0,0,20,39,12,2,2,37,92,51,6,70,78,44,8,45,84,129,125,66,53,193,204,162,0,95,158,112,21,53,20,0,95,141,136,85,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,47,38,4,0,0,20,26,0,0,6,18,64,126,139,114,60,0,9,165,201,202,140,25,0,0,0,0,0,42,41,72,128,124,65,7,41,36,3,0,0,0,0,0,0,0,0,0,0,0,28,44,45,12,0,0,0,0,21,49,37,21,88,126,144,120,59,0,22,173,192,196,111,64,76,24,0,0,45,122,112,38,22,22,8,85,118,96,47,22,36,17,0,0,0,0,0,0,0,0,14,41,33,0,0,0,0,10,70,102,93,48,58,99,94,56,4,0,0,113,163,138,114,165,140,73,0,0,91,144,141,51,0,0,19,87,116,101,54,71,94,80,31,0,0,0,0,0,0,0,0,3,0,0,0,0,0,10,68,99,91,47,0,0,0,0,0,0,0,0,0,69,137,170,153,70,0,18,118,145,117,15,0,0,0,42,69,47,15,73,94,79,40,0,0,0,0,0,0,0,0,6,1,6,4,0,0,0,19,46,34,15,62,90,59,0,0,0,0,0,0,50,112,140,90,0,0,46,94,111,65,8,19,0,0,0,0,0,0,20,54,43,12,0,0,0,0,0,0,0,0,7,8,9,4,0,0,0,0,0,20,82,119,116,92,19,0,45,61,20,0,0,21,8,0,0,0,17,77,76,24,78,81,42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,27,45,33,0,0,0,0,0,30,79,110,114,74,0,18,88,118,107,16,0,0,0,0,0,0,0,0,0,61,120,101,54,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,0,27,40,43,11,0,0,0,0,2,41,61,31,0,0,7,93,118,101,41,16,73,73,16,0,0,0,0,0,79,98,102,17,0,0,0,0,0,0,41,63,49,0,0,0,0,0,0,0,0,0,14,37,31,26,53,29,0,0,0,0,0,0,0,0,14,77,114,79,15,39,80,80,40,0,33,32,0,0,44,74,42,0,0,0,0,0,0,0,62,75,70,18,0,0,0,0,0,0,0,0,0,1,5,59,68,66,0,0,0,13,43,34,0,0,34,89,108,89,7,14,66,67,15,31,76,76,31,0,0,0,0,0,0,0,0,0,0,0,37,66,54,17,0,0,0,0,0,0,0,0,0,1,0,51,64,57,0,0,0,54,86,83,14,0,12,87,99,77,16,0,0,0,0,30,73,72,29,0,0,0,0,0,0,0,0,0,0,0,0,18,17,0,0,0,0,0,0,0,0,0,0,0,0,15,30,17,0,0,0,57,83,84,19,0,0,15,47,36,0,0,0,0,0,0,28,28,0,0,0,0,0,0,2,27,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,57,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,54,52,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,11,35,27,0,0,0,0,0,2,29,19,0,0,0,0,0,0,0,0,0,0,0,0,34,51,49,10,21,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,15,11,0,0,0,31,46,48,11,0,0,0,0,36,57,58,10,0,0,0,0,0,18,26,2,0,0,0,2,23,14,28,42,40,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,30,33,6,0,0,23,44,46,8,0,0,0,0,34,54,54,9,0,0,0,0,9,54,53,33,0,0,0,0,0,0,26,39,37,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,28,30,5,0,0,0,11,22,24,3,0,0,0,2,24,16,0,0,0,0,0,9,50,49,31,0,0,0,0,0,0,1,17,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,11,8,0,0,0,0,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,15,21,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
			art1.create_brush("brosse4", {width:50,height:50,data:t});
			t=[0,0,0,0,39,24,0,0,19,18,0,0,0,0,0,0,0,13,6,28,0,0,0,0,0,25,0,0,0,0,31,8,31,10,90,41,0,13,8,6,0,0,0,17,40,26,41,8,131,104,24,53,22,27,19,0,0,24,33,77,52,131,20,56,67,70,14,99,0,0,0,0,116,52,52,139,203,163,85,139,84,66,52,0,0,92,57,48,73,139,255,128,174,33,36,13,24,6,0,42,62,0,110,203,255,255,85,33,135,121,3,6,0,0,0,73,64,131,116,163,67,92,42,164,41,6,2,35,0,73,139,52,131,54,110,32,0,73,10,0,39,17,46,60,48,19,67,63,67,32,32,35,0,0,0,0,20,46,0,0,0,32,32,0,26,0,0,0,0,0,0,0,0,0,26,41,0,0,0,0,0,0,0,0,0,0,0,0,3,1,0,0,0,0,0,0];
			art1.create_brush("hachure", {width:14,height:14,data:t});
			t=null;
			art1.fade_background(200);
					
			art1.on_event=function(event) {
				if(event=="do") {
					// count 'curve' objects
					var n_curves=0;
					for(var id in this.tools) {if(this.tools[id].curve) n_curves++}
					// ensure minimum 4 curve objects simultaneously
					if(n_curves<4) add_curve(this);
				}
			};
			art1.start();
		}
			
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
		function add_curve(art) {
			var curve={
				curve:1,
				n_segments: 15 + Math.floor(Math.random()*8),
				ind_segments: 0
			};
			
			curve.on_event=function(event) {
				
				if(event=="init") {
					var v;
					var stroke={};
					stroke.parent=this;
					
					// parameter for making vary stroke pressure
					var p_pressure={};
					p_pressure.qtt= 200;

					// color
					var b_light_color = true;
					var rnd = Math.random()*200;
					if(rnd<15) v= "c1";
					else if(rnd<100) {v= "fond"; b_light_color = false; }
					else v = "principale";
					stroke.color=art.palette_get(v);                				
					// alpha chanel
					stroke.color[3]=15 + Math.floor(Math.random()*15); 
					// points
					stroke.p1="~width,~height";
					rnd = Math.random() *10;
					v = rnd<8 ? 200 : 300;
					stroke.p2="~360>~"+v;
					stroke.c1=stroke.c2="radius150";
					// brush
					if(rnd<8) {
						v = "brosse4";
						p_pressure.start = 15;
						p_pressure.end = 25;
					}
					else {
						p_pressure.start = 15;
						p_pressure.end = 110;
						rnd = Math.round(Math.random()*10);
						if(rnd<4) v="brosse1";
						else if(rnd<8) v="brosse2";
						else if(rnd==8) v = "brosse3";
						else v="brosse4";
						if(b_light_color) {
							stroke.color_stop = [255,255,255];
							stroke.color_stop_tolerance = 100;
						}
					}
					stroke.brush_name=v;
					
					stroke.on_event=function(event) {
						if(event=="do") {
							// add a perpendicular stroke from time to time
							if(this.distance>50 && Math.random()*200<5 && this.brush_name!="brosse3") {
								var stroke1={};
								// restarting from current point
								var p=this.get_point('current');
								if(p) {
									stroke1.brush_name=this.brush_name;
									stroke1.color=this.color;
									var xy=this.untransform_coord(p);
									// current direction
									var dir=this.get_current_direction();
									var angle_dist=art.calc_angle_distance(xy, [xy[0]+dir[0],xy[1]+dir[1]]);
									var dist = 10 + (Math.random()*50);
									stroke1.p1=xy;
									stroke1.p2= Math.floor((angle_dist[0] + (Math.random()*10 > 5 ? 90 : -90)))+">"+dist;
									stroke1.c1=stroke1.c2="radius5";
									stroke1.pressure=Math.max(10, this.pressure-60);
									art.create_stroke(stroke1);
								}
							}
						}
						else if(event=="done") {
							// from time to time, add hatching following last curve
							var coords=this.get_coord();
							if( Math.random()*100 < 5) {
								hatch(art, {
									color:this.color,
									p1:coords.p1,
									p2:coords.p2,
									p3:"+0>0",
									p4:"+0>0",
									c1:coords.c1,
									c2:coords.c2,
									c3:"radius50",
									c4:"radius50",
									density:15,
									pressure:this.pressure
								});
							}
							// current bezier segment is over, go on with next segment
							this.parent.ind_segments++;
							if(this.parent.ind_segments < this.parent.n_segments) {
								// alter stroke properties and reactivate it if not ouside canvas
								if(coords.p[0]>=0 && coords.p[0]<art.width && coords.p[1]>=0 && coords.p[1]<art.height) {
									this.p1="*";
									this.p2=this.save.p2;
									this.c1=this.save.c1;
									this.c2=this.save.c2;
									this.set(this);
								}
							}
							// if all strokes have been drawn, the 'curve' object is ended
							if(this.state=='done') {
								this.parent.done();
								// delete varying parameter for pressure
								this.parent.param_pressure.done();

							}
						}
					};
					
					p_pressure.object=art.create_stroke(stroke);
					p_pressure.object_prop="pressure";
					this.param_pressure=art.create_param(p_pressure);
				}
			};
			
			art.create_tool(curve);			
		}
		
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
		function hatch(art, props) {	
			
			var h={
				density:10,
				flag:true,
				c1:"+0>0",
				c2:"+0>0",
				c3:"+0>0",
				c4:"+0>0"
			};
			for(var k in props) h[k]=props[k];
			
			h.on_event=function(event) {
				if(event=='eval') {
					if(this.save.p1) this.p1=this.art.get_point_value(this.save.p1, 0, 0, [0,0]);
					if(this.save.p2) this.p2=this.art.get_point_value(this.save.p2, 0, 0, this.p1);
					if(this.save.p3) this.p3=this.art.get_point_value(this.save.p3, 0, 0, this.p1);
					if(this.save.p4) this.p4=this.art.get_point_value(this.save.p4, 0, 0, this.p2);
					if(this.save.c1) this.c1=this.art.get_point_value(this.save.c1, 0, 0, this.p1);
					if(this.save.c2) this.c2=this.art.get_point_value(this.save.c2, 0, 0, this.p2);
					if(this.save.c3) this.c3=this.art.get_point_value(this.save.c3, 0, 0, this.p3);
					if(this.save.c4) this.c4=this.art.get_point_value(this.save.c4, 0, 0, this.p4);
					if(this.save.density) this.density=this.art.get_int_value(this.save.density);
				}
				else if(event=='init') {
					var dist12=Math.floor(this.art.calc_bezier_length(this.p1, this.c1, this.c2, this.p2)); 
					var dist34=Math.floor(this.art.calc_bezier_length(this.p3, this.c3, this.c4, this.p4)); 
					var dist_max=Math.max(dist12,dist34);
					var density12= dist12==dist_max ? this.density : (this.density*dist12/dist_max);
					var density34= dist34==dist_max ? this.density : (this.density*dist34/dist_max);
					
					this.i12 = this.i34 = 0;

					// get bezier points for the two curves
					this.pts_spline12=this.art.calc_bezier_points(this.p1, this.c1, this.c2, this.p2, density12); 
					this.pts_spline34=this.art.calc_bezier_points(this.p3, this.c3, this.c4, this.p4, density34); 

					var stroke={
						parent: this,
						brush_name:'hachure',
						pressure:this.pressure,
						color: this.color,
						step:2,
						speed:3,
						p1:this.pts_spline12[0][0]+"~3,"+this.pts_spline12[0][1]+"~3",
						p2:this.pts_spline34[0][0]+"~3,"+this.pts_spline34[0][1]+"~3",
						c1:"radius5",
						c2:"radius5"
					};
					stroke.on_event=function(event) {
						if(event=='done') {
							var h=this.parent;
							if(h.i12<h.pts_spline12.length-1 && h.i34<h.pts_spline34.length-1) {
								// go forward with points on each bezier curve alternatively
								h.flag = ! h.flag;
								var prop=stroke;
								if(h.flag) {
									h.i34++;
									prop.p1=h.pts_spline12[h.i12][0]+"~3,"+h.pts_spline12[h.i12][1]+"~3";
									prop.p2=h.pts_spline34[h.i34][0]+"~3,"+h.pts_spline34[h.i34][1]+"~3";
								}
								else {
									h.i12++;
									prop.p1=h.pts_spline34[h.i34][0]+"~3,"+h.pts_spline34[h.i34][1]+"~3";
									prop.p2=h.pts_spline12[h.i12][0]+"~3,"+h.pts_spline12[h.i12][1]+"~3";
								}
								this.set(prop);
								
							}
							else {
								// if all hatching segments are done, the general 'hatch' tool is also over
								h.done();
							}
						}
					}				
					art.create_stroke(stroke);
				}
			}			
			art.create_tool(h);
		}
		
	</script>
</body>
</html>