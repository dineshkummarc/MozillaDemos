$(function(){var main=$('#main'),side=$('#side'),code=$('#code'),htmlcopy=$('#htmlcopy'),csscopy=$('#csscopy'),codc=$('#codeCache'),form=$('#entryForm',main),pre=$('#previewCSS',main),foli=$('div.configBox > ul.forms > li',main),chk=$('input.check',foli),chkd=$('input.check:checked',foli),pkr1=$('#bg-color1,#bg-color2,#bg-color3,#bg-color4,#bg-color5,#border-color,#font-color',foli);pkr2=$('#shadow-color,#shadowinset-color,#text-shadow1-color,#text-shadow2-color',foli);$('#reload > a').click(function(){location.reload();return false});$('#saveBtn > #dummyBtn').click(function(){$(this).replaceWith('<button type="submit" class="basic">save+share</button>')});$("#btnList > .add:first-child > a").animate({backgroundColor:'#ffcc00'},500).animate({backgroundColor:'#cccccc'},1000).find('.preview').fadeIn(1000);$('#newURL').click(function(){$(this).show().select()}).text($("#btnList > .add:first-child > a").attr('href'));htmlcopy.click(function(){$(this).show().select()});code.hover(function(){var h=$(this).height();csscopy.height(h).text(code.text())}).click(function(){$(this).hide();csscopy.show().select()});$('#main,#csscopy,#htmlcopy').mousedown(function(){code.show();csscopy.hide()});pkr1.mousedown(function(){var id=$(this).attr("id"),div=foli.find('#'+id+' div'),inp=form.find('#'+id+'-input'),clr=inp.attr('value'),cod=side.find('#code .'+id),pre=main.find('#previewCSS');$(this).ColorPicker({color:clr,onShow:function(colpkr){$(colpkr).show();return false},onHide:function(colpkr){$(colpkr).hide();return false},onChange:function(hsb,hex,rgb){div.css('backgroundColor','#'+hex);inp.attr('value',hex);cod.text(hex);pre.text(code.text())}})});pkr2.mousedown(function(){var id=$(this).attr("id"),div=foli.find('#'+id+' div'),inp=form.find('#'+id+'-input'),clr=inp.attr('value'),cod=side.find('#code .'+id),pre=main.find('#previewCSS');$(this).ColorPicker({color:clr,onShow:function(colpkr){$(colpkr).show();return false},onHide:function(colpkr){$(colpkr).hide();return false},onChange:function(hsb,hex,rgb){div.css('backgroundColor','#'+hex);inp.attr('value',hex);cod.text(rgb.r+','+rgb.g+','+rgb.b);pre.text(code.text())}})});foli.hover(function(){$('body > div.colorpicker').hide()});chk.click(function(){var id=$(this).parent('li').find('.colorSelector').attr('id'),mf=$('#'+id+'-moz-flag'),mc=$('#'+id+'-moz-cache'),wf=$('#'+id+'-webkit-flag'),wc=$('#'+id+'-webkit-cache');if($(this).attr('checked')==true){mf.html(mc.html());wf.html(wc.html())}else{mc.html(mf.html());wc.html(wf.html());$('> span',mf).remove();$('> span',wf).remove()}$('.mask',$(this).parent()).toggle();pre.text(code.text())}).each(function(){var id=$(this).parent('li').find('.colorSelector').attr('id'),mf=$('#'+id+'-moz-flag'),mc=$('#'+id+'-moz-cache'),wf=$('#'+id+'-webkit-flag'),wc=$('#'+id+'-webkit-cache');if($(this).attr('checked')==true){$('.mask',$(this).parent()).hide()}else{mc.html(mf.html());wc.html(wf.html());$('> span',mf).remove();$('> span',wf).remove()}});pre.text(code.text());$('.mask',chkd.parent()).hide();$('div.configBox > ul.forms > li.spin',main).click().hover(function(){var input=$('input.spin',this),name=$('input.spin',this).attr('name');setInterval(function(){side.find('#code .'+name).text(input.val());pre.text(code.text())},100)}).find('input.px').spin({imageBasePath:'src/img/spin/',interval:1,timeBlink:400,min:0,max:99,timeInterval:100}).end().find('input.px2').spin({imageBasePath:'src/img/spin/',interval:1,min:-99,max:99,timeInterval:100}).end().find('input.px3').spin({imageBasePath:'src/img/spin/',interval:1,min:0,max:30,timeInterval:100}).end().find('input.px4').spin({imageBasePath:'src/img/spin/',interval:1,min:0,max:10,timeInterval:100}).end().find('input.opacity').spin({imageBasePath:'src/img/spin/',interval:0.1,min:0,max:1,timeInterval:100})});